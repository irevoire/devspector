<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Welcome to the Meilisearch specifications!</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/devspector/assets/css/0.styles.8ada1b1a.css" as="style"><link rel="preload" href="/devspector/assets/js/app.dbf56421.js" as="script"><link rel="preload" href="/devspector/assets/js/3.7860be15.js" as="script"><link rel="preload" href="/devspector/assets/js/36.94cccae4.js" as="script"><link rel="prefetch" href="/devspector/assets/js/10.867f19e5.js"><link rel="prefetch" href="/devspector/assets/js/11.5950006a.js"><link rel="prefetch" href="/devspector/assets/js/12.3fc27b6c.js"><link rel="prefetch" href="/devspector/assets/js/13.569b541d.js"><link rel="prefetch" href="/devspector/assets/js/14.12e69b5e.js"><link rel="prefetch" href="/devspector/assets/js/15.d80f77d0.js"><link rel="prefetch" href="/devspector/assets/js/16.055f279b.js"><link rel="prefetch" href="/devspector/assets/js/17.13c224fe.js"><link rel="prefetch" href="/devspector/assets/js/18.f87d82ff.js"><link rel="prefetch" href="/devspector/assets/js/19.1374b4fc.js"><link rel="prefetch" href="/devspector/assets/js/20.aa0f50b5.js"><link rel="prefetch" href="/devspector/assets/js/21.d9d2de27.js"><link rel="prefetch" href="/devspector/assets/js/22.651633e9.js"><link rel="prefetch" href="/devspector/assets/js/23.b1da491b.js"><link rel="prefetch" href="/devspector/assets/js/24.0eb99e5a.js"><link rel="prefetch" href="/devspector/assets/js/25.a9ece5c8.js"><link rel="prefetch" href="/devspector/assets/js/26.33f21d3d.js"><link rel="prefetch" href="/devspector/assets/js/27.f2a6eeb7.js"><link rel="prefetch" href="/devspector/assets/js/28.943b40ae.js"><link rel="prefetch" href="/devspector/assets/js/29.b3e0eb9c.js"><link rel="prefetch" href="/devspector/assets/js/30.6aed4db2.js"><link rel="prefetch" href="/devspector/assets/js/31.0fa42e2c.js"><link rel="prefetch" href="/devspector/assets/js/32.e18b0f3d.js"><link rel="prefetch" href="/devspector/assets/js/33.a5caa74d.js"><link rel="prefetch" href="/devspector/assets/js/34.e68c4458.js"><link rel="prefetch" href="/devspector/assets/js/35.73b92b77.js"><link rel="prefetch" href="/devspector/assets/js/37.87daaeae.js"><link rel="prefetch" href="/devspector/assets/js/38.47a33431.js"><link rel="prefetch" href="/devspector/assets/js/39.017a6062.js"><link rel="prefetch" href="/devspector/assets/js/4.00ff60b8.js"><link rel="prefetch" href="/devspector/assets/js/40.a7044b1c.js"><link rel="prefetch" href="/devspector/assets/js/41.bfe574d2.js"><link rel="prefetch" href="/devspector/assets/js/42.534278aa.js"><link rel="prefetch" href="/devspector/assets/js/43.672c5a43.js"><link rel="prefetch" href="/devspector/assets/js/44.1be5b8c4.js"><link rel="prefetch" href="/devspector/assets/js/45.83835c91.js"><link rel="prefetch" href="/devspector/assets/js/46.0a56b5d8.js"><link rel="prefetch" href="/devspector/assets/js/47.7b51c9d1.js"><link rel="prefetch" href="/devspector/assets/js/48.0a681b8c.js"><link rel="prefetch" href="/devspector/assets/js/49.c3c4d010.js"><link rel="prefetch" href="/devspector/assets/js/5.06848b4d.js"><link rel="prefetch" href="/devspector/assets/js/6.87f02c74.js"><link rel="prefetch" href="/devspector/assets/js/7.fadbe260.js"><link rel="prefetch" href="/devspector/assets/js/8.615c8e9c.js"><link rel="prefetch" href="/devspector/assets/js/9.0c014273.js"><link rel="prefetch" href="/devspector/assets/js/vendors~docs-searchbar.9a2822a3.js">
    <link rel="stylesheet" href="/devspector/assets/css/0.styles.8ada1b1a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/devspector/" class="home-link router-link-active"><!----> <span class="site-name">Welcome to the Meilisearch specifications!</span></a> <div class="links"><form id="search-form" role="search" class="meilisearch-search-wrapper search-box"><input id="meilisearch-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/devspector/specifications/text/specifications/text/0000-specification-template.html" class="nav-link">
  Specification
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/devspector/specifications/text/specifications/text/0000-specification-template.html" class="nav-link">
  Specification
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/devspector/specifications/text/0000-specification-template.html" class="sidebar-link">Specification template</a></li><li><a href="/devspector/specifications/text/0001-frontend-disable-prod.html" class="sidebar-link">Frontend disable prod</a></li><li><a href="/devspector/specifications/text/0001-script-based-tokenizer.html" class="sidebar-link">Script based tokenizer</a></li><li><a href="/devspector/specifications/text/0027-filter-and-facet-behavior.html" class="sidebar-link">Filter and facet behavior</a></li><li><a href="/devspector/specifications/text/0028-indexing-csv.html" class="sidebar-link">Indexing csv</a></li><li><a href="/devspector/specifications/text/0029-indexing-ndjson.html" class="sidebar-link">Indexing ndjson</a></li><li><a href="/devspector/specifications/text/0030-asc-desc-criterion.html" class="sidebar-link">Asc desc criterion</a></li><li><a href="/devspector/specifications/text/0032-distinct-attribute.html" class="sidebar-link">Distinct attribute</a></li><li><a href="/devspector/specifications/text/0033-logging.html" class="sidebar-link">Logging</a></li><li><a href="/devspector/specifications/text/0034-telemetry-policies.html" class="sidebar-link">Telemetry policies</a></li><li><a href="/devspector/specifications/text/0036-exactness-criterion.html" class="sidebar-link">Exactness criterion</a></li><li><a href="/devspector/specifications/text/0038-rename-attributes-for-faceting.html" class="sidebar-link">Rename attributes for faceting</a></li><li><a href="/devspector/specifications/text/0039-_formatted-field-behavior.html" class="sidebar-link">_formatted field behavior</a></li><li><a href="/devspector/specifications/text/0043-phrase-query.html" class="sidebar-link">Phrase query</a></li><li><a href="/devspector/specifications/text/0047-reset-stop-words-synonyms-settings-with-null.html" class="sidebar-link">Reset stop words synonyms settings with null</a></li><li><a href="/devspector/specifications/text/0048-rename-max-mdb-size-var.html" class="sidebar-link">Rename max mdb size var</a></li><li><a href="/devspector/specifications/text/0055-sort.html" class="sidebar-link">Sort</a></li><li><a href="/devspector/specifications/text/0059-geo-search.html" class="sidebar-link">Geo search</a></li><li><a href="/devspector/specifications/text/0060-tasks-api.html" class="sidebar-link">Tasks api</a></li><li><a href="/devspector/specifications/text/0061-error-format-and-definitions.html" class="sidebar-link">Error format and definitions</a></li><li><a href="/devspector/specifications/text/0077-words-position-limit.html" class="sidebar-link">Words position limit</a></li><li><a href="/devspector/specifications/text/0085-api-keys.html" class="sidebar-link">Api keys</a></li><li><a href="/devspector/specifications/text/0089-tenant-tokens.html" class="sidebar-link">Tenant tokens</a></li><li><a href="/devspector/specifications/text/0096-auto-batching.html" class="sidebar-link">Auto batching</a></li><li><a href="/devspector/specifications/text/0105-dumps-api.html" class="sidebar-link">Dumps api</a></li><li><a href="/devspector/specifications/text/0118-search-api.html" aria-current="page" class="active sidebar-link">Search api</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/devspector/specifications/text/0118-search-api.html#_1-functional-specification" class="sidebar-link">1. Functional Specification</a></li><li class="sidebar-sub-header"><a href="/devspector/specifications/text/0118-search-api.html#_2-technical-details" class="sidebar-link">2. Technical Details</a></li><li class="sidebar-sub-header"><a href="/devspector/specifications/text/0118-search-api.html#_3-future-possibilities" class="sidebar-link">3. Future Possibilities</a></li></ul></li><li><a href="/devspector/specifications/text/0119-instance-options.html" class="sidebar-link">Instance options</a></li><li><a href="/devspector/specifications/text/0123-displayed-attributes-setting-api.html" class="sidebar-link">Displayed attributes setting api</a></li><li><a href="/devspector/specifications/text/0123-distinct-attribute-setting-api.html" class="sidebar-link">Distinct attribute setting api</a></li><li><a href="/devspector/specifications/text/0123-filterable-attributes-setting-api.html" class="sidebar-link">Filterable attributes setting api</a></li><li><a href="/devspector/specifications/text/0123-ranking-rules-setting-api.html" class="sidebar-link">Ranking rules setting api</a></li><li><a href="/devspector/specifications/text/0123-searchable-attributes-setting-api.html" class="sidebar-link">Searchable attributes setting api</a></li><li><a href="/devspector/specifications/text/0123-settings-api.html" class="sidebar-link">Settings api</a></li><li><a href="/devspector/specifications/text/0123-sortable-attributes-setting-api.html" class="sidebar-link">Sortable attributes setting api</a></li><li><a href="/devspector/specifications/text/0123-stop-words-setting-api.html" class="sidebar-link">Stop words setting api</a></li><li><a href="/devspector/specifications/text/0123-synonyms-setting-api.html" class="sidebar-link">Synonyms setting api</a></li><li><a href="/devspector/specifications/text/0124-documents-api.html" class="sidebar-link">Documents api</a></li><li><a href="/devspector/specifications/text/0132-indexes-api.html" class="sidebar-link">Indexes api</a></li><li><a href="/devspector/specifications/text/0134-stats-api.html" class="sidebar-link">Stats api</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><ul><li>Title: Search API</li> <li>Start Date: 2022-02-27</li></ul> <h1 id="search-api"><a href="#search-api" class="header-anchor">#</a> Search API</h1> <h2 id="_1-functional-specification"><a href="#_1-functional-specification" class="header-anchor">#</a> 1. Functional Specification</h2> <h3 id="_1-1-summary"><a href="#_1-1-summary" class="header-anchor">#</a> 1.1. Summary</h3> <p>The search endpoints permit to retrieve documents within an index that are the most relevant given a set of parameters forming a search query.</p> <h3 id="_1-2-explanation"><a href="#_1-2-explanation" class="header-anchor">#</a> 1.2. Explanation</h3> <p>Meilisearch exposes 2 routes to perform searches:</p> <ul><li><p>GET <code>indexes/:index_uid/search</code></p></li> <li><p>POST <code>indexes/:index_uid/search</code></p></li> <li><p>🔴 If the index does not exist, the API returns an <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#index_not_found">index_not_found</a> error.</p></li></ul> <p>If the instance is secured by a master-key, the auth layer will return the following errors:</p> <ul><li>🔴 Accessing these routes without the <code>Authorization</code> header returns a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#missing_authorization_header">missing_authorization_header</a> error.</li> <li>🔴 Accessing this route with a key that does not have permissions (i.e. other than the master-key) returns an <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#invalid_api_key">invalid_api_key</a> error.</li></ul> <p><code>POST</code> HTTP verb errors:</p> <ul><li>🔴 Omitting Content-Type header returns a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#missing_content_type">missing_content_type</a> error.</li> <li>🔴 Sending an empty Content-Type returns an <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#invalid_content_type">invalid_content_type</a> error.</li> <li>🔴 Sending a different Content-Type than <code>application/json</code> returns an <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#invalid_content_type">invalid_content_type</a> error.</li> <li>🔴 Sending an empty payload returns a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#missing_payload">missing_payload</a> error.</li> <li>🔴 Sending an invalid JSON payload returns a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#malformed_payload">malformed_payload</a> error.</li></ul> <h4 id="_1-2-1-search-payload-parameters"><a href="#_1-2-1-search-payload-parameters" class="header-anchor">#</a> 1.2.1. Search payload parameters</h4> <table><thead><tr><th>Field</th> <th>Type</th> <th>Required</th></tr></thead> <tbody><tr><td>q</td> <td>String</td> <td>False</td></tr> <tr><td>filter</td> <td>Array of String - String</td> <td>False</td></tr> <tr><td>sort</td> <td>Array of String - String</td> <td>False</td></tr> <tr><td>facetsDistribution</td> <td>Array of String - String</td> <td>False</td></tr> <tr><td>limit</td> <td>Integer</td> <td>False</td></tr> <tr><td>offset</td> <td>Integer</td> <td>False</td></tr> <tr><td>attributesToRetrieve</td> <td>Array of String - String</td> <td>False</td></tr> <tr><td>attributesToHighlight</td> <td>Array of String - String</td> <td>False</td></tr> <tr><td>attributesToCrop</td> <td>Array of String - String</td> <td>False</td></tr> <tr><td>cropLength</td> <td>Integer</td> <td>False</td></tr> <tr><td>matches</td> <td>Boolean</td> <td>False</td></tr></tbody></table> <h5 id="_1-2-1-1-q"><a href="#_1-2-1-1-q" class="header-anchor">#</a> 1.2.1.1 <code>q</code></h5> <ul><li>Type: String</li> <li>Required: False</li> <li>Default: <code>null</code></li></ul> <p><code>q</code> contains the terms to search within the index documents.</p> <ul><li>🔴 Sending a value with a different type than <code>String</code> or <code>null</code> for <code>q</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li></ul> <blockquote><p>When q isn't specified, Meilisearch performs a <strong>placeholder search</strong>. A placeholder search returns all searchable documents in an index, modified by any search parameters used and sorted by that index's custom ranking rules. If the index has no sort or custom ranking rules, the results are returned in the order of their internal database position.</p></blockquote> <blockquote><p>Meilisearch only considers the first ten words of any given search query to deliver a fast search-as-you-type experience.</p></blockquote> <blockquote><p><code>q</code> supports <a href="/devspector/specifications/text/0043-phrase-query.html">Phrase Query</a> expression.</p></blockquote> <h5 id="_1-2-1-2-filter"><a href="#_1-2-1-2-filter" class="header-anchor">#</a> 1.2.1.2 <code>filter</code></h5> <ul><li>Type: Array of String (POST) | String (POST/GET)</li> <li>Required: False</li> <li>Default: <code>[]|null</code></li></ul> <p><code>filter</code> contains a filter expression written as a string or an array of strings. It permits to refine search results.</p> <p>Attributes used as filter criteria must be added to the <code>filterableAttributes</code> list of an index settings. See <a href="/devspector/specifications/text/0123-filterable-attributes-setting-api.html">Filterable Attributes Setting API</a>.</p> <ul><li>🔴 Sending a value with a different type than <code>Array of String</code>(POST), <code>String</code>(GET) or <code>null</code> for <code>filter</code> will return an <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#invalid_filter">invalid_filter</a> error.</li> <li>🔴 Sending an invalid syntax for <code>filter</code> will return an <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#invalid_filter">invalid_filter</a> error.</li> <li>🔴 Sending a field not defined as a <code>filterableAttributes</code> for <code>filter</code> will return an <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#invalid_filter">invalid_filter</a> error.</li></ul> <blockquote><p>See <a href="/devspector/specifications/text/0027-filter-and-facet-behavior.html">Filter And Facet Behavior</a></p></blockquote> <h5 id="_1-2-1-3-sort"><a href="#_1-2-1-3-sort" class="header-anchor">#</a> 1.2.1.3 <code>sort</code></h5> <ul><li>Type: Array of String (POST) | String (GET)</li> <li>Required: False</li> <li>Default: <code>[]|null</code></li></ul> <p><code>sort</code> contains a sort expression written as a string or an array of strings. It permits to sorts search results at query time according to the specified attributes and indicated order.</p> <p>Attributes used as sort criteria must be added to the `sortableAttributes list of an index settings. See <a href="/devspector/specifications/text/0123-sortable-attributes-setting-api.html">Sortable Attributes Setting API</a>.</p> <ul><li>🔴 Sending a value with a different type than <code>Array of String</code>(POST), <code>String</code>(GET) or <code>null</code> for <code>sort</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li> <li>🔴 Sending an invalid syntax for <code>sort</code> will return an <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#invalid_sort">invalid_sort</a> error.</li> <li>🔴 Sending a field not defined as a <code>sortableAttributes</code> for <code>sort</code> will return an <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#invalid_sort">invalid_sort</a> error.</li></ul> <blockquote><p>See <a href="/devspector/specifications/text/0055-sort.html">Sort</a></p></blockquote> <h5 id="_1-2-1-4-facetsdistribution"><a href="#_1-2-1-4-facetsdistribution" class="header-anchor">#</a> 1.2.1.4 <code>facetsDistribution</code></h5> <ul><li>Type: Array of String (POST) | String (GET)</li> <li>Required: False</li> <li>Default: <code>[]|null</code></li></ul> <p><code>facetsDistribution</code> permits to specify facets to be computed for the current search query.</p> <p>It returns the number of documents matching the current search query for each given specified facet.</p> <p>This parameter can take two values:</p> <ul><li>An array of attributes: <code>facetsDistribution=[&quot;attributeA&quot;, &quot;attributeB&quot;, …]</code></li> <li>An asterisk <code>&quot;*&quot;</code> — this will return a count for all facets present in <code>filterableAttributes</code></li></ul> <p>Attributes used in <code>facetsDistribution</code> must be added to the <code>filterableAttributes</code> list of an index settings. See <a href="/devspector/specifications/text/0123-filterable-attributes-setting-api.html">Filterable Attributes Setting API</a>.</p> <ul><li>🔴 Sending a value with a different type than <code>Array of String</code>(POST), <code>String</code>(GET) or <code>null</code> for <code>facetsDistribution</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li> <li>🔴 Sending a field not defined as a <code>filterableAttributes</code> for <code>facetsDistribution</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li></ul> <blockquote><p>See <a href="/devspector/specifications/text/0027-filter-and-facet-behavior.html">Filter And Facet Behavior</a></p></blockquote> <h5 id="_1-2-1-5-limit"><a href="#_1-2-1-5-limit" class="header-anchor">#</a> 1.2.1.5 <code>limit</code></h5> <ul><li>Type: Integer</li> <li>Required: False</li> <li>Default: <code>20</code></li></ul> <p>Sets the maximum number of documents to be returned by the current search query.</p> <ul><li>🔴 Sending a value with a different type than <code>Integer</code> or <code>null</code> for <code>limit</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li></ul> <h5 id="_1-2-1-6-offset"><a href="#_1-2-1-6-offset" class="header-anchor">#</a> 1.2.1.6 <code>offset</code></h5> <ul><li>Type: Integer</li> <li>Required: False</li> <li>Default: <code>0</code></li></ul> <p>Sets the starting point in the search results, effectively skipping over a given number of documents.</p> <ul><li>🔴 Sending a value with a different type than <code>Integer</code> or <code>null</code> for <code>offset</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li></ul> <h5 id="_1-2-1-7-attributestoretrieve"><a href="#_1-2-1-7-attributestoretrieve" class="header-anchor">#</a> 1.2.1.7 <code>attributesToRetrieve</code></h5> <ul><li>Type: Array of String (POST) | String (GET)</li> <li>Required: False</li> <li>Default: <code>[]|null</code></li></ul> <p>Configures which attributes will be retrieved in the returned documents.</p> <p>If no value is specified, <code>attributesToRetrieve</code> uses the <code>displayedAttributes</code> list, which by default contains all attributes found in the documents.</p> <blockquote><p>If an attribute has been removed from <code>displayedAttributes</code> index settings, <code>attributesToRetrieve</code> will silently ignore it and the field will not appear in the returned documents.</p></blockquote> <ul><li>🔴 Sending a value with a different type than <code>Array of String</code>(POST), <code>String</code>(GET) or <code>null</code> for <code>attributesToRetrieve</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li></ul> <h5 id="_1-2-1-8-attributestohighlight"><a href="#_1-2-1-8-attributestohighlight" class="header-anchor">#</a> 1.2.1.8 <code>attributesToHighlight</code></h5> <ul><li>Type: Array<a href="POST">String</a>|String(GET)</li> <li>Required: False</li> <li>Default: <code>[]|null</code></li></ul> <p>Highlights matching query terms in the specified attributes by enclosing them in <code>&lt;em&gt;</code> tags.</p> <p>When this parameter is set, returned documents include a <code>_formatted</code> object containing the highlighted terms.</p> <p>If <code>&quot;*&quot;</code> is provided as a value: <code>attributesToHighlight=[&quot;*&quot;]</code> all the attributes present in <code>attributesToRetrieve</code> will be assigned to <code>attributesToHighlight</code>.</p> <ul><li>🔴 Sending a value with a different type than <code>Array[String]</code>(POST), <code>String</code>(GET) or <code>null</code> for <code>attributesToHighlight</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li></ul> <blockquote><p>See <a href="/devspector/specifications/text/0039-_formatted-field-behavior_.html">_Formatted Field Behavior</a></p></blockquote> <h5 id="_1-2-1-9-attributestocrop"><a href="#_1-2-1-9-attributestocrop" class="header-anchor">#</a> 1.2.1.9 <code>attributesToCrop</code></h5> <ul><li>Type: Array[String]|String</li> <li>Required: False</li> <li>Default: <code>[]|null</code></li></ul> <p>Crops the selected attributes' values in the returned results to the length indicated by the <code>cropLength</code> parameter.</p> <p>When this parameter is set, returned documents include a <code>_formatted</code> object containing the cropped terms.</p> <p>Optionally, indicating a custom crop length for any of the listed attributes is possible: <code>attributesToCrop=[&quot;attributeNameA:25&quot;, &quot;attributeNameB:150&quot;]</code>. The custom crop length set in this way has priority over the <code>cropLength</code> parameter.</p> <p>Instead of supplying individual attributes, it is possible to provide <code>[&quot;*&quot;]</code> as a value: <code>attributesToCrop=[&quot;*&quot;]</code>. This will crop the values of all attributes present in <code>attributesToRetrieve</code>.</p> <ul><li>🔴 Sending a value with a different type than <code>Array[String]</code>(POST), <code>String</code>(GET) or <code>null</code> for <code>attributesToCrop</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li></ul> <blockquote><p>See <a href="/devspector/specifications/text/0039-_formatted-field-behavior_.html">_Formatted Field Behavior</a></p></blockquote> <h5 id="_1-2-1-10-croplength"><a href="#_1-2-1-10-croplength" class="header-anchor">#</a> 1.2.1.10 <code>cropLength</code></h5> <ul><li>Type: Integer</li> <li>Required: False</li> <li>Default: <code>200</code></li></ul> <p>Configures the number of characters to keep on each side of the matching query term when using the <code>attributesToCrop</code> parameter.</p> <p>If <code>attributesToCrop</code> is not configured, <code>cropLength</code> has no effect on the returned results.</p> <ul><li>🔴 Sending a value with a different type than <code>Integer</code> or <code>null</code> for <code>cropLength</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li></ul> <h5 id="_1-2-1-11-matches"><a href="#_1-2-1-11-matches" class="header-anchor">#</a> 1.2.1.11 <code>matches</code></h5> <ul><li>Type: Boolean</li> <li>Required: False</li> <li>Default: <code>false</code></li></ul> <p>Adds a <code>_matchesInfo</code> object to the search response that contains the location of each occurrence of queried terms across all fields. This is useful when more control is needed than offered by the built-in highlighting/cropping features.</p> <ul><li>🔴 Sending a value with a different type than <code>Boolean</code> or <code>null</code> for <code>matches</code> will return a <a href="/devspector/specifications/text/0061-error-format-and-definitions.html#bad_request">bad_request</a> error.</li></ul> <h4 id="_1-2-2-search-response"><a href="#_1-2-2-search-response" class="header-anchor">#</a> 1.2.2. Search response</h4> <table><thead><tr><th>Field</th> <th>Type</th> <th>Required</th></tr></thead> <tbody><tr><td>hits</td> <td>Array[Hit]</td> <td>True</td></tr> <tr><td>limit</td> <td>Integer</td> <td>True</td></tr> <tr><td>offset</td> <td>Integer</td> <td>True</td></tr> <tr><td>nbHits</td> <td>Integer</td> <td>True</td></tr> <tr><td>exhaustiveNbHits</td> <td>Boolean</td> <td>True</td></tr> <tr><td>facetsDistribution</td> <td>Object</td> <td>False</td></tr> <tr><td>exhaustiveFacetsCount</td> <td>Boolean</td> <td>False</td></tr> <tr><td>processingTimeMs</td> <td>Integer</td> <td>True</td></tr> <tr><td>query</td> <td>String</td> <td>True</td></tr></tbody></table> <h5 id="_1-2-2-1-hits"><a href="#_1-2-2-1-hits" class="header-anchor">#</a> 1.2.2.1 <code>hits</code></h5> <ul><li>Type: Array[Hit]</li> <li>Required: True</li></ul> <p>Results of the query as an array of documents.</p> <blockquote><p>The search parameters <code>attributesToRetrieve</code> influence the returned payload for a document as a search result. See 1.2.1.7 <code>attributesToRetrieve</code> section.</p></blockquote> <blockquote><p>A Hit object that represents a document within the search results can host special attributes. See 1.2.2.9 <code>hits</code> special fields section.</p></blockquote> <h5 id="_1-2-2-2-limit"><a href="#_1-2-2-2-limit" class="header-anchor">#</a> 1.2.2.2 <code>limit</code></h5> <ul><li>Type: Integer</li> <li>Required: True</li></ul> <p>Gives the <code>limit</code> search parameter used for the query.</p> <blockquote><p>See 1.2.1.5 <code>limit</code> section.</p></blockquote> <h5 id="_1-2-2-3-offset"><a href="#_1-2-2-3-offset" class="header-anchor">#</a> 1.2.2.3 <code>offset</code></h5> <ul><li>Type: Integer</li> <li>Required: True</li></ul> <p>Gives the <code>offset</code> search parameter used for the query.</p> <blockquote><p>See 1.2.1.6 <code>offset</code> section.</p></blockquote> <h5 id="_1-2-2-4-nbhits"><a href="#_1-2-2-4-nbhits" class="header-anchor">#</a> 1.2.2.4 <code>nbHits</code></h5> <ul><li>Type: Integer</li> <li>Required: True</li></ul> <p>Returns the total number of candidates for the search query.</p> <h5 id="_1-2-2-5-exhaustivenbhits"><a href="#_1-2-2-5-exhaustivenbhits" class="header-anchor">#</a> 1.2.2.5 <code>exhaustiveNbHits</code></h5> <ul><li>Type: Boolean</li> <li>Required: True</li></ul> <p>Whether <code>nbHits</code> is exhaustive.</p> <blockquote><p>Always return <code>false</code>.</p></blockquote> <h5 id="_1-2-2-6-facetsdistribution"><a href="#_1-2-2-6-facetsdistribution" class="header-anchor">#</a> 1.2.2.6 <code>facetsDistribution</code></h5> <ul><li>Type: Object</li> <li>Required: False</li></ul> <p>Added to the search response when <code>facetsDistribution</code> is set for a search query. It contains the number of remaining candidates for each specified facet in the <code>facetsDistribution</code> search parameter.</p> <blockquote><p>See 1.2.1.4 <code>facetsDistribution</code> section.
See <a href="/devspector/specifications/text/0027-filter-and-facet-behavior.html">Filter And Facet Behavior</a></p></blockquote> <h5 id="_1-2-2-7-exhaustivefacetscount"><a href="#_1-2-2-7-exhaustivefacetscount" class="header-anchor">#</a> 1.2.2.7 <code>exhaustiveFacetsCount</code></h5> <ul><li>Type: Boolean</li> <li>Required: False</li></ul> <p>Whether <code>facetsDistribution</code> count is exhaustive. The field <code>exhaustiveFacetsCount</code> is added when <code>facetsDistribution</code> is set as a search parameter.</p> <blockquote><p>Always returns <code>false</code>.</p></blockquote> <h5 id="_1-2-2-7-processingtimems"><a href="#_1-2-2-7-processingtimems" class="header-anchor">#</a> 1.2.2.7 <code>processingTimeMs</code></h5> <ul><li>Type: Integer</li> <li>Required: True</li></ul> <p>Processing time of the search query in milliseconds.</p> <h5 id="_1-2-2-8-query"><a href="#_1-2-2-8-query" class="header-anchor">#</a> 1.2.2.8 <code>query</code></h5> <ul><li>Type: String</li> <li>Required: True</li> <li>Default: <code>&quot;&quot;</code></li></ul> <p>Query originating the response. Equals to the <code>q</code> search parameter.</p> <blockquote><p>See 1.2.1.1 <code>q</code> section.</p></blockquote> <h5 id="_1-2-2-9-hits-special-fields"><a href="#_1-2-2-9-hits-special-fields" class="header-anchor">#</a> 1.2.2.9 <code>hits</code> special fields</h5> <table><thead><tr><th>Field</th> <th>Type</th> <th>Required</th></tr></thead> <tbody><tr><td>_geoDistance</td> <td>Integer</td> <td>False</td></tr> <tr><td>_formatted</td> <td>Object</td> <td>False</td></tr> <tr><td>_matchesInfo</td> <td>Object</td> <td>False</td></tr></tbody></table> <h6 id="_1-2-2-9-1-geodistance"><a href="#_1-2-2-9-1-geodistance" class="header-anchor">#</a> 1.2.2.9.1 <code>_geoDistance</code></h6> <ul><li>Type: Integer</li> <li>Required: False</li></ul> <p>Search queries using <code>_geoPoint</code> will always include a <code>_geoDistance</code> field containing the distance in meters between the document location and the <code>_geoPoint</code>.</p> <blockquote><p>See <a href="/devspector/specifications/text/0059-geo-search.html">GeoSearch</a></p></blockquote> <h6 id="_1-2-2-9-2-formatted"><a href="#_1-2-2-9-2-formatted" class="header-anchor">#</a> 1.2.2.9.2 <code>_formatted</code></h6> <ul><li>Type: Object</li> <li>Required: False</li></ul> <p>Object containing the cropped/highlighted values of the fields specified in <code>attributesToHighlight</code> or/and <code>attributesToCrop</code>.</p> <blockquote><p>See 1.2.1.8 <code>attributesToHighlight</code> section and 1.2.1.9 <code>attributesToCrop</code> section.</p></blockquote> <h6 id="_1-2-2-9-3-matchesinfo"><a href="#_1-2-2-9-3-matchesinfo" class="header-anchor">#</a> 1.2.2.9.3 <code>_matchesInfo</code></h6> <ul><li>Type: Object</li> <li>Required: False</li></ul> <p>Contains the location of each occurrence of queried terms across all fields. The <code>_matchesInfo</code> object is added to a document when <code>matches</code> search parameter is specified to true.</p> <p>The beginning of a matching term within a field is indicated by start, and its length by length.</p> <blockquote><p>See 1.2.1.11 <code>matches</code> section.</p></blockquote> <h2 id="_2-technical-details"><a href="#_2-technical-details" class="header-anchor">#</a> 2. Technical Details</h2> <p>n/a</p> <h2 id="_3-future-possibilities"><a href="#_3-future-possibilities" class="header-anchor">#</a> 3. Future Possibilities</h2> <ul><li>Add dedicated errors to replace <code>bad_request</code> error.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/devspector/specifications/text/0105-dumps-api.html" class="prev">
        Dumps api
      </a></span> <span class="next"><a href="/devspector/specifications/text/0119-instance-options.html">
        Instance options
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/devspector/assets/js/app.dbf56421.js" defer></script><script src="/devspector/assets/js/3.7860be15.js" defer></script><script src="/devspector/assets/js/36.94cccae4.js" defer></script>
  </body>
</html>
