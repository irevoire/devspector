<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Welcome to the Meilisearch dev specifications!</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.b26ff90a.css" as="style"><link rel="preload" href="/assets/js/app.145227f4.js" as="script"><link rel="preload" href="/assets/js/3.7860be15.js" as="script"><link rel="preload" href="/assets/js/27.f12a6568.js" as="script"><link rel="prefetch" href="/assets/js/10.867f19e5.js"><link rel="prefetch" href="/assets/js/11.5950006a.js"><link rel="prefetch" href="/assets/js/12.3fc27b6c.js"><link rel="prefetch" href="/assets/js/13.569b541d.js"><link rel="prefetch" href="/assets/js/14.5eb4b1a7.js"><link rel="prefetch" href="/assets/js/15.ffba3d85.js"><link rel="prefetch" href="/assets/js/16.5bbcf611.js"><link rel="prefetch" href="/assets/js/17.052e3dd6.js"><link rel="prefetch" href="/assets/js/18.1930f072.js"><link rel="prefetch" href="/assets/js/19.4af2be90.js"><link rel="prefetch" href="/assets/js/20.bbf42276.js"><link rel="prefetch" href="/assets/js/21.2d9b101a.js"><link rel="prefetch" href="/assets/js/22.1f07eccb.js"><link rel="prefetch" href="/assets/js/23.49f62338.js"><link rel="prefetch" href="/assets/js/24.bdd429da.js"><link rel="prefetch" href="/assets/js/25.d65be380.js"><link rel="prefetch" href="/assets/js/26.b95e819f.js"><link rel="prefetch" href="/assets/js/28.f5f1be8c.js"><link rel="prefetch" href="/assets/js/29.28370923.js"><link rel="prefetch" href="/assets/js/30.d05af041.js"><link rel="prefetch" href="/assets/js/31.253b9bfc.js"><link rel="prefetch" href="/assets/js/32.733e95db.js"><link rel="prefetch" href="/assets/js/33.3c665714.js"><link rel="prefetch" href="/assets/js/34.a4e294f1.js"><link rel="prefetch" href="/assets/js/35.2fbca171.js"><link rel="prefetch" href="/assets/js/36.e60a6e3a.js"><link rel="prefetch" href="/assets/js/37.2e37d485.js"><link rel="prefetch" href="/assets/js/38.47a33431.js"><link rel="prefetch" href="/assets/js/39.017a6062.js"><link rel="prefetch" href="/assets/js/4.00ff60b8.js"><link rel="prefetch" href="/assets/js/40.a7044b1c.js"><link rel="prefetch" href="/assets/js/41.f19ee942.js"><link rel="prefetch" href="/assets/js/42.534278aa.js"><link rel="prefetch" href="/assets/js/43.38811573.js"><link rel="prefetch" href="/assets/js/44.1be5b8c4.js"><link rel="prefetch" href="/assets/js/45.83835c91.js"><link rel="prefetch" href="/assets/js/46.0a56b5d8.js"><link rel="prefetch" href="/assets/js/47.7b51c9d1.js"><link rel="prefetch" href="/assets/js/48.0a681b8c.js"><link rel="prefetch" href="/assets/js/49.c3c4d010.js"><link rel="prefetch" href="/assets/js/5.06848b4d.js"><link rel="prefetch" href="/assets/js/6.87f02c74.js"><link rel="prefetch" href="/assets/js/7.fadbe260.js"><link rel="prefetch" href="/assets/js/8.d45b99a8.js"><link rel="prefetch" href="/assets/js/9.0c014273.js"><link rel="prefetch" href="/assets/js/vendors~docs-searchbar.9a2822a3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b26ff90a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Welcome to the Meilisearch dev specifications!</span></a> <div class="links"><form id="search-form" role="search" class="meilisearch-search-wrapper search-box"><input id="meilisearch-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/specifications/text/specifications/text/0000-specification-template.html" class="nav-link">
  Specification
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/specifications/text/specifications/text/0000-specification-template.html" class="nav-link">
  Specification
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/specifications/text/0000-specification-template.html" class="sidebar-link">Specification template</a></li><li><a href="/specifications/text/0001-frontend-disable-prod.html" class="sidebar-link">Frontend disable prod</a></li><li><a href="/specifications/text/0001-script-based-tokenizer.html" class="sidebar-link">Script based tokenizer</a></li><li><a href="/specifications/text/0028-indexing-csv.html" class="sidebar-link">Indexing csv</a></li><li><a href="/specifications/text/0029-indexing-ndjson.html" class="sidebar-link">Indexing ndjson</a></li><li><a href="/specifications/text/0030-asc-desc-criterion.html" class="sidebar-link">Asc desc criterion</a></li><li><a href="/specifications/text/0032-distinct-attribute.html" class="sidebar-link">Distinct attribute</a></li><li><a href="/specifications/text/0033-logging.html" class="sidebar-link">Logging</a></li><li><a href="/specifications/text/0034-telemetry-policies.html" class="sidebar-link">Telemetry policies</a></li><li><a href="/specifications/text/0036-exactness-criterion.html" class="sidebar-link">Exactness criterion</a></li><li><a href="/specifications/text/0038-rename-attributes-for-faceting.html" class="sidebar-link">Rename attributes for faceting</a></li><li><a href="/specifications/text/0043-phrase-query.html" class="sidebar-link">Phrase query</a></li><li><a href="/specifications/text/0047-reset-stop-words-synonyms-settings-with-null.html" class="sidebar-link">Reset stop words synonyms settings with null</a></li><li><a href="/specifications/text/0048-rename-max-mdb-size-var.html" class="sidebar-link">Rename max mdb size var</a></li><li><a href="/specifications/text/0055-sort.html" class="sidebar-link">Sort</a></li><li><a href="/specifications/text/0059-geo-search.html" class="sidebar-link">Geo search</a></li><li><a href="/specifications/text/0060-tasks-api.html" aria-current="page" class="active sidebar-link">Tasks api</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/specifications/text/0060-tasks-api.html#_1-functional-specification" class="sidebar-link">1. Functional Specification</a></li><li class="sidebar-sub-header"><a href="/specifications/text/0060-tasks-api.html#_2-technical-details" class="sidebar-link">2. Technical details</a></li><li class="sidebar-sub-header"><a href="/specifications/text/0060-tasks-api.html#_3-future-possibilities" class="sidebar-link">3. Future Possibilities</a></li></ul></li><li><a href="/specifications/text/0061-error-format-and-definitions.html" class="sidebar-link">Error format and definitions</a></li><li><a href="/specifications/text/0077-words-position-limit.html" class="sidebar-link">Words position limit</a></li><li><a href="/specifications/text/0085-api-keys.html" class="sidebar-link">Api keys</a></li><li><a href="/specifications/text/0089-tenant-tokens.html" class="sidebar-link">Tenant tokens</a></li><li><a href="/specifications/text/0096-auto-batching.html" class="sidebar-link">Auto batching</a></li><li><a href="/specifications/text/0105-dumps-api.html" class="sidebar-link">Dumps api</a></li><li><a href="/specifications/text/0117-typo-tolerance-setting-api.html" class="sidebar-link">Typo tolerance setting api</a></li><li><a href="/specifications/text/0118-search-api.html" class="sidebar-link">Search api</a></li><li><a href="/specifications/text/0119-instance-options.html" class="sidebar-link">Instance options</a></li><li><a href="/specifications/text/0121-data-types.html" class="sidebar-link">Data types</a></li><li><a href="/specifications/text/0123-displayed-attributes-setting-api.html" class="sidebar-link">Displayed attributes setting api</a></li><li><a href="/specifications/text/0123-distinct-attribute-setting-api.html" class="sidebar-link">Distinct attribute setting api</a></li><li><a href="/specifications/text/0123-filterable-attributes-setting-api.html" class="sidebar-link">Filterable attributes setting api</a></li><li><a href="/specifications/text/0123-ranking-rules-setting-api.html" class="sidebar-link">Ranking rules setting api</a></li><li><a href="/specifications/text/0123-searchable-attributes-setting-api.html" class="sidebar-link">Searchable attributes setting api</a></li><li><a href="/specifications/text/0123-settings-api.html" class="sidebar-link">Settings api</a></li><li><a href="/specifications/text/0123-sortable-attributes-setting-api.html" class="sidebar-link">Sortable attributes setting api</a></li><li><a href="/specifications/text/0123-stop-words-setting-api.html" class="sidebar-link">Stop words setting api</a></li><li><a href="/specifications/text/0123-synonyms-setting-api.html" class="sidebar-link">Synonyms setting api</a></li><li><a href="/specifications/text/0124-documents-api.html" class="sidebar-link">Documents api</a></li><li><a href="/specifications/text/0132-indexes-api.html" class="sidebar-link">Indexes api</a></li><li><a href="/specifications/text/0134-stats-api.html" class="sidebar-link">Stats api</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><ul><li>Title: Tasks API</li> <li>Start Date: 2021-08-13</li> <li>Specification PR: <a href="https://github.com/meilisearch/specifications/pull/60" target="_blank" rel="noopener noreferrer">#60<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Discovery Issue: <a href="https://github.com/meilisearch/product/issues/48" target="_blank" rel="noopener noreferrer">#48<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h1 id="refashion-updates-apis"><a href="#refashion-updates-apis" class="header-anchor">#</a> Refashion Updates APIs</h1> <h2 id="_1-functional-specification"><a href="#_1-functional-specification" class="header-anchor">#</a> 1. Functional Specification</h2> <h3 id="i-summary"><a href="#i-summary" class="header-anchor">#</a> I. Summary</h3> <p>The term <code>update</code> is not the best choice as it can be confused with document updates or <code>settings</code>. We have chosen to replace this term with <code>task</code>, which is more generic and better reflects the meaning of this API resource.</p> <p>As an additional change, we have reworked the format of an update to make it more in line with our expectations of an API that is supposed to be easily understandable and developer-oriented.</p> <p>Changing the format of <code>task</code> object lists makes adding more functionality in a future iteration easier. See the Future Possibilities section for a brief overview.</p> <p>The specification adds two new API endpoints. Although quite simple, they allow consulting the list of tasks or a specific task without being forced to know the related index.</p> <p>The specification makes any writing operation on an index asynchronous to serve consistency and facilitate future evolutions.</p> <h4 id="summary-key-points"><a href="#summary-key-points" class="header-anchor">#</a> Summary Key Points</h4> <ul><li>The <code>update</code> resource is renamed <code>task</code>. The names of existing API routes are also changed to reflect this change.</li> <li>Tasks are now also accessible as an independent resource of an index. <code>GET - /tasks</code>; <code>GET - /tasks/:taskUid</code></li> <li>The task <code>uid</code> is not incremented by index anymore. The sequence is generated globally.</li> <li>A <code>task_not_found</code> error is introduced.</li> <li>The format of the <code>task</code> object is updated.
<ul><li><code>updateId</code> becomes <code>uid</code>.</li> <li>Attributes of an error appearing in a <code>failed</code> <code>task</code> are now contained in a dedicated <code>error</code> object.</li> <li><code>type</code> is no longer an object. It now becomes a string containing the values of its <code>name</code> field previously defined in the <code>type</code> object.</li> <li>The possible values for the <code>type</code> field are reworked to be more clear and consistent with our naming rules.</li> <li>A <code>details</code> object is added to contain specific information related to a <code>task</code> payload that was previously displayed in the <code>type</code> nested object.</li> <li>An <code>indexUid</code> field is added to give information about the related index on which the task is performed.</li> <li><code>duration</code> format has been updated to express an <code>ISO 8601</code> duration.</li> <li><code>processed</code> status changes to <code>succeeded</code>.</li> <li><code>startedProcessingAt</code> is updated to <code>startedAt</code>.</li> <li><code>processedAt</code> is updated to <code>finishedAt</code>.</li></ul></li> <li><code>202 Accepted</code> requests previously returning an <code>updateId</code> are now returning a summarized <code>task</code> object.</li> <li><code>MEILI_MAX_UDB_SIZE</code> env var is updated <code>MEILI_MAX_TASK_DB_SIZE</code>.</li> <li><code>--max-udb-size</code> cli option is updated to <code>--max-task-db-size</code>.</li> <li><code>task</code> object lists are now returned under a <code>results</code> array.</li> <li>Each operation on an index (creation, update, deletion) is now asynchronous and represented by a <code>task</code>.</li></ul> <h3 id="ii-motivation"><a href="#ii-motivation" class="header-anchor">#</a> II. Motivation</h3> <p>The motivation is to stabilize the current <code>update</code> resource to a version that conforms to our API convention, thus developing future evolutions on a more solid base. We want to modify the name <code>update</code>, the format is also changed because some attributes are not immediately explicit, either in the possible values or in the chosen names.</p> <h3 id="iii-explanation"><a href="#iii-explanation" class="header-anchor">#</a> III. Explanation</h3> <h4 id="_1-task-object-definition"><a href="#_1-task-object-definition" class="header-anchor">#</a> 1. <code>task</code> object definition</h4> <h5 id="fully-qualified-task-object"><a href="#fully-qualified-task-object" class="header-anchor">#</a> <strong>Fully Qualified <code>task</code> object</strong></h5> <blockquote><p>This fully qualified version appears as a response object on <code>task</code> dedicated endpoints.</p></blockquote> <table><thead><tr><th>field</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>uid</td> <td>integer</td> <td>Unique sequential identifier</td></tr> <tr><td>indexUid</td> <td>string</td> <td>Unique index identifier</td></tr> <tr><td>batchUid</td> <td>integer</td> <td>Identify in which batch a task has been grouped by auto-batching. It corresponds to the first task uid grouped within a batch. See <a href="/specifications/text/0096-auto-batching.html">auto-batching specification</a></td></tr> <tr><td>status</td> <td>string</td> <td>Status of the task. Possible values are <code>enqueued</code>, <code>processing</code>, <code>succeeded</code>, <code>failed</code></td></tr> <tr><td>type</td> <td>string</td> <td>Type of the task. Possible values are <code>indexCreation</code>, <code>indexUpdate</code>, <code>indexDeletion</code>, <code>documentAddition</code>, <code>documentPartial</code>, <code>documentDeletion</code>, <code>settingsUpdate</code>, <code>clearAll</code></td></tr> <tr><td>details</td> <td>object</td> <td>Details information for a task payload. See Task Details part.</td></tr> <tr><td>error</td> <td>object</td> <td>Error object containing error details and context when a task has a <code>failed</code> status. See https://github.com/meilisearch/specifications/pull/61</td></tr> <tr><td>duration</td> <td>string</td> <td>Total elapsed time the engine was in processing state expressed as an <code>ISO-8601</code> duration format. Times below the second can be expressed with the <code>.</code> notation, e.g., <code>PT0.5S</code> to express <code>500ms</code>. Default is set to <code>null</code>.</td></tr> <tr><td>enqueuedAt</td> <td>string</td> <td>Represent the date and time as <code>RFC 3339</code> format when the task has been enqueued</td></tr> <tr><td>startedAt</td> <td>string</td> <td>Represent the date and time as <code>RFC 3339</code> format when the task has been dequeued and started to be processed. Default is set to <code>null</code></td></tr> <tr><td>finishedAt</td> <td>string</td> <td>Represent the date and time as <code>RFC 3339</code> format when the task has <code>failed</code> or <code>succeeded</code>. Default is set to <code>null</code></td></tr></tbody></table> <blockquote><p>💡 The order of the fields must be returned in this order.</p></blockquote> <h5 id="summarized-task-object-for-202-accepted"><a href="#summarized-task-object-for-202-accepted" class="header-anchor">#</a> Summarized <code>task</code> Object for <code>202 Accepted</code></h5> <table><thead><tr><th>field</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>taskUid</td> <td>integer</td> <td>Unique sequential identifier</td></tr> <tr><td>indexUid</td> <td>string</td> <td>Unique index identifier</td></tr> <tr><td>status</td> <td>string</td> <td>Status of the task. Value is <code>enqueued</code></td></tr> <tr><td>enqueuedAt</td> <td>string</td> <td>Represent the date and time as <code>RFC 3339</code> format when the task has been enqueued</td></tr></tbody></table> <blockquote><p>💡 The order of the fields must be returned in this order.</p> <p>💡 This summarized version appears only in <code>202 Accepted</code> responses.</p></blockquote> <h4 id="_2-status-field-enum"><a href="#_2-status-field-enum" class="header-anchor">#</a> 2. <code>status</code> field enum</h4> <table><thead><tr><th>old</th> <th>new</th></tr></thead> <tbody><tr><td>enqueued</td> <td>-</td></tr> <tr><td>processing</td> <td>-</td></tr> <tr><td>processed</td> <td><strong>succeeded</strong></td></tr> <tr><td>failed</td> <td>-</td></tr></tbody></table> <blockquote><p>👍 Better semantic differentiation between <code>processing</code> and <code>processed</code>. The final status of a <em>processed</em> task is <code>succeeded</code> or <code>failed</code>.</p></blockquote> <h4 id="_3-type-field-enum"><a href="#_3-type-field-enum" class="header-anchor">#</a> 3. <code>type</code> field enum</h4> <table><thead><tr><th>old</th> <th>new</th></tr></thead> <tbody><tr><td>-</td> <td>indexCreation</td></tr> <tr><td>-</td> <td>indexUpdate</td></tr> <tr><td>-</td> <td>indexDeletion</td></tr> <tr><td>DocumentsAddition</td> <td>documentAddition</td></tr> <tr><td>DocumentsPartial</td> <td>documentPartial</td></tr> <tr><td>DocumentsDeletion</td> <td>documentDeletion</td></tr> <tr><td>Settings</td> <td>settingsUpdate</td></tr> <tr><td>ClearAll</td> <td>clearAll</td></tr></tbody></table> <blockquote><p>👍 Type values follow a <code>camelCase</code> naming convention.</p> <p>💡 <code>Settings</code> is updated to be more precise with the name <code>settingsUpdate</code>.</p></blockquote> <h4 id="_4-details-field-object"><a href="#_4-details-field-object" class="header-anchor">#</a> 4. <code>details</code> field object</h4> <h5 id="documentaddition"><a href="#documentaddition" class="header-anchor">#</a> documentAddition</h5> <table><thead><tr><th>name</th> <th>description</th></tr></thead> <tbody><tr><td>receivedDocuments</td> <td>Number of documents received.</td></tr> <tr><td>indexedDocuments</td> <td>Number of documents finally indexed.</td></tr></tbody></table> <h5 id="documentpartial"><a href="#documentpartial" class="header-anchor">#</a> documentPartial</h5> <table><thead><tr><th>name</th> <th>description</th></tr></thead> <tbody><tr><td>receivedDocuments</td> <td>Number of documents received.</td></tr> <tr><td>indexedDocuments</td> <td>Number of documents finally indexed.</td></tr></tbody></table> <h5 id="documentdeletion"><a href="#documentdeletion" class="header-anchor">#</a> documentDeletion</h5> <table><thead><tr><th>name</th> <th>description</th></tr></thead> <tbody><tr><td>receivedDocumentIds</td> <td>Number of document ids received.</td></tr> <tr><td>deletedDocuments</td> <td>Number of documents finally deleted.</td></tr></tbody></table> <h5 id="indexcreation"><a href="#indexcreation" class="header-anchor">#</a> indexCreation</h5> <table><thead><tr><th>name</th> <th>description</th></tr></thead> <tbody><tr><td>primaryKey</td> <td>Value for the <code>primaryKey</code> field into the POST index payload. <code>null</code> if no <code>primaryKey</code> has been specified at the time of the index creation.</td></tr></tbody></table> <h5 id="indexupdate"><a href="#indexupdate" class="header-anchor">#</a> indexUpdate</h5> <table><thead><tr><th>name</th> <th>description</th></tr></thead> <tbody><tr><td>primaryKey</td> <td>Value for the <code>primaryKey</code> field into the PUT index payload. <code>null</code> if no <code>primaryKey</code> has been specified at the time of the index update.</td></tr></tbody></table> <h5 id="indexdeletion"><a href="#indexdeletion" class="header-anchor">#</a> indexDeletion</h5> <table><thead><tr><th>name</th> <th>description</th></tr></thead> <tbody><tr><td>deletedDocuments</td> <td>Number of deleted documents. Should be all documents contained in the deleted index.</td></tr></tbody></table> <h5 id="clearall"><a href="#clearall" class="header-anchor">#</a> clearAll</h5> <table><thead><tr><th>name</th> <th>description</th></tr></thead> <tbody><tr><td>deletedDocuments</td> <td>Number of deleted documents. Should be all documents contained in the cleared index.</td></tr></tbody></table> <h5 id="settingsupdate"><a href="#settingsupdate" class="header-anchor">#</a> settingsUpdate</h5> <table><thead><tr><th>name</th> <th>description</th></tr></thead> <tbody><tr><td>rankingRules</td> <td><code>rankingRules</code> payload array</td></tr> <tr><td>searchableAttributes</td> <td><code>searchableAttributes</code> payload array</td></tr> <tr><td>filterableAttributes</td> <td><code>filterableAttributes</code> payload array</td></tr> <tr><td>sortableAttributes</td> <td><code>sortableAttributes</code> payload array</td></tr> <tr><td>stopWords</td> <td><code>stopWords</code> payload array</td></tr> <tr><td>synonyms</td> <td><code>synonyms</code> payload object</td></tr> <tr><td>distinctAttribute</td> <td><code>distrinctAttribute</code> payload string</td></tr> <tr><td>displayedAttributes</td> <td><code>displayedAttributes</code> payload array</td></tr></tbody></table> <h4 id="_5-examples"><a href="#_5-examples" class="header-anchor">#</a> 5. Examples</h4> <p>e.g. A fully qualified <code>task</code> object in an <code>enqueued</code> state.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;batchUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enqueued&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;settingsUpdate&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;rankingRules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;typo&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ranking:desc&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;words&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;proximity&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;attribute&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;exactness&quot;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-10T14:29:17.000000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;startedAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finishedAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
<span class="token punctuation">}</span>
</code></pre></div><p>e.g. A fully qualified <code>task</code> object in a <code>processing</code> state.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;batchUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;processing&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;settingsUpdate&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;rankingRules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;typo&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ranking:desc&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;words&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;proximity&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;attribute&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;exactness&quot;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-10T14:29:17.000000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;startedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-10T14:29:18.000000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finishedAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
<span class="token punctuation">}</span>
</code></pre></div><p>e.g. A fully qualified <code>task</code> object in a <code>succeeded</code> state.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;batchUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;succeeded&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;settingsUpdate&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;rankingRules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;typo&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ranking:desc&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;words&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;proximity&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;attribute&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;exactness&quot;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PT1S&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-10T14:29:17.000000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;startedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-10T14:29:18.000000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finishedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-10T14:29:19.000000Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>e.g. A fully qualified <code>task</code> object in a <code>failed</code> state.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;batchUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;failed&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;settingsUpdate&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;rankingRules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;typo&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ranking:desc&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;words&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;proximity&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;attribute&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;wordsPosition&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;exactness&quot;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;invalid criterion wordsPosition&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;internal&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;internal_error&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;link&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://docs.meilisearch.com/errors#internal&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PT1S&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-10T14:29:17.000000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;startedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-10T14:29:18.000000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finishedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-10T14:29:19.000000Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>e.g. A summarized <code>task</code> object in a <code>202 Accepted</code> HTTP response returned at index creation.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;taskUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enqueued&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;createIndex&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-11T09:25:53.000000Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h4 id="_6-apis-endpoints"><a href="#_6-apis-endpoints" class="header-anchor">#</a> 6. APIs endpoints</h4> <p><strong>Get all tasks</strong> | <code>GET</code> - <code>/tasks</code></p> <h5 id="goals"><a href="#goals" class="header-anchor">#</a> Goals</h5> <p>Allows users to list tasks globally regardless of the indexes involved. Particularly useful to visualize all the tasks.</p> <p><code>200</code> - Response body - <code>/tasks</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;results&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies_reviews&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;batchUid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enqueued&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;documentAddition&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-12T10:00:00.000000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;startedProcessingAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;finishedAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;batchUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;succeeded&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;documentAddition&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;receivedDocuments&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                <span class="token property">&quot;indexedDocuments&quot;</span><span class="token operator">:</span> <span class="token number">100</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PT16S&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-11T09:25:53.000000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;startedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-11T10:03:00.000000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;finishedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-11T10:03:16.000000Z&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h5> <blockquote><p>💡 <code>task</code> objects are contained in a <code>results</code> array.</p> <p>💡 <code>task</code> uid is generated globally. The <code>uid</code> of the tasks are no longer scoped to an index.</p> <p>💡 By default, objects are sorted by <code>desc</code> order on <code>uid</code> field. So the most recent tasks appear first.</p> <p>💡 When an index is deleted, its tasks remain accessible on the global <code>/tasks</code> endpoint.</p></blockquote> <h5 id="errors"><a href="#errors" class="header-anchor">#</a> Errors</h5> <ul><li>🔴 If a master key is configured on the server-side but missing from the client in the <code>X-MEILI-API-KEY</code> header, the API returns a <code>401 Unauthorized</code> - <code>missing_authorization_header</code> error.</li> <li>🔴 If a master key is sent by the client but does not match the value configured on the server-side, the API returns a <code>403 Forbidden</code> - <code>invalid_api_key</code>.</li></ul> <hr> <p><strong>Get a task by uid</strong> | <code>GET</code> - <code>/tasks/{uid}</code></p> <h5 id="goals-2"><a href="#goals-2" class="header-anchor">#</a> Goals</h5> <p>Allows users to get a detailed <code>task</code> object retrieved by the <code>uid</code> field regardless of the index involved.</p> <p><code>200</code> - Response body -  <code>/tasks/1</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;batchUid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enqueued&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;documentAddition&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-12T10:00:00.000000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;startedAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finishedAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="errors-2"><a href="#errors-2" class="header-anchor">#</a> Errors</h5> <ul><li>🔴 If a master key is configured on the server-side but missing from the client in the <code>X-MEILI-API-KEY</code> header, the API returns a <code>401 Unauthorized</code> - <code>missing_authorization_header</code> error.</li> <li>🔴 If a master key is sent by the client but does not match the value configured on the server-side, the API returns a <code>403 Forbidden</code> - <code>invalid_api_key</code>.</li> <li>🔴 If the task does not exist, the API returns a <code>404 Not Found</code> - <code>task_not_found</code> error.</li></ul> <hr> <p><strong>Get all tasks of an index</strong> | <code>GET</code> - <code>/indexes/{indexUid}/tasks</code></p> <h5 id="goals-3"><a href="#goals-3" class="header-anchor">#</a> Goals</h5> <p>Allows users to list tasks of a particular index.</p> <p><code>200</code> - Response body - <code>/indexes/movies/tasks</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;results&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;batchUid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enqueued&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;documentAddition&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-12T10:00:00.000000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;startedAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;finishedAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;batchUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;succeeded&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;documentAddition&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;receivedDocuments&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                <span class="token property">&quot;indexedDocuments&quot;</span><span class="token operator">:</span> <span class="token number">100</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PT16S&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-11T09:25:53.000000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;startedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-11T10:03:00.000000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;finishedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-11T10:03:16.000000Z&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="errors-3"><a href="#errors-3" class="header-anchor">#</a> Errors</h5> <ul><li>🔴 If a master key is configured on the server-side but missing from the client in the <code>X-MEILI-API-KEY</code> header, the API returns a <code>401 Unauthorized</code> - <code>missing_authorization_header</code> error.</li> <li>🔴 If a master key is sent by the client but does not match the value configured on the server-side, the API returns a <code>403 Forbidden</code> - <code>invalid_api_key</code>.</li> <li>🔴 If the index does not exist, the API returns a <code>404 Not Found</code> - <code>index_not_found</code> error.</li></ul> <hr> <p><strong>Get a task of an index</strong> | <code>GET</code> - <code>/indexes/{indexUid}/tasks/{tasksUid}</code></p> <p><code>200</code> - Response body - <code>/indexes/movies/tasks/1</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>

    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;batchUid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enqueued&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;documentAddition&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-12T10:00:00.000000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;startedAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finishedAt&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="errors-4"><a href="#errors-4" class="header-anchor">#</a> Errors</h5> <ul><li>🔴 If a master key is configured on the server-side but missing from the client in the <code>X-MEILI-API-KEY</code> header, the API returns a <code>401 Unauthorized</code> - <code>missing_authorization_header</code> error.</li> <li>🔴 If a master key is sent by the client but does not match the value configured on the server-side, the API returns a <code>403 Forbidden</code> - <code>invalid_api_key</code>.</li> <li>🔴 If the index does not exist, the API returns a <code>404 Not Found</code> - <code>index_not_found</code> error.</li> <li>🔴 If the task does not exist, the API returns a <code>404 Not Found</code> - <code>task_not_found</code> error.</li></ul> <h4 id="_6-task-not-found-error"><a href="#_6-task-not-found-error" class="header-anchor">#</a> 6. <code>task_not_found</code> error</h4> <h5 id="context"><a href="#context" class="header-anchor">#</a> Context</h5> <p>This error happens when a requested task can't be found.</p> <h5 id="error-definition"><a href="#error-definition" class="header-anchor">#</a> Error Definition</h5> <p>HTTP Code: <code>404 Not Found</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Task :taskUid not found.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;task_not_found&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;invalid_request&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;link&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://docs.meilisearch.com/errors#task_not_found&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>The <code>:taskUid</code> is inferred when the message is generated.</li></ul> <h4 id="_7-meili-max-udb-size-env-var-and-max-udb-size-cli-option"><a href="#_7-meili-max-udb-size-env-var-and-max-udb-size-cli-option" class="header-anchor">#</a> 7. <code>MEILI_MAX_UDB_SIZE</code> env var and <code>--max-udb-size</code> cli option</h4> <p>As the notion of <code>update</code> no longer exists. The acronym <code>UDB</code> is changed by <code>TASK_DB</code>.</p> <ul><li><code>MEILI_MAX_UDB_SIZE</code> env var is updated to <code>MEILI_MAX_TASK_DB_SIZE</code>.</li> <li><code>--max-udb-size</code> cli option is updated to <code>--max-task-db-size</code>.</li></ul> <h4 id="_8-asynchronous-write-operations-on-index-resource"><a href="#_8-asynchronous-write-operations-on-index-resource" class="header-anchor">#</a> 8. Asynchronous Write Operations on Index resource</h4> <p>To consolidate the writing behavior between an index and document modifications, configuration changes of settings, the creation, modification, and deletion of an index resource are now asynchronous.</p> <p>Initially, the index creation, update, and deletion operations were synchronous, which could cause problems like race conditions.</p> <p>For example, when updating documents on an index while an index is being deleted synchronously in parallel. It also improves the consistency for the understanding of writes within a MeiliSearch index among an identical behavior.</p> <p>This structure allows us to facilitate communications and write propagations in a high availability context in the future.</p> <p>The main change in the API is that the routes response described below now becomes a <code>202 Accepted</code> response with the summarized task response payload.</p> <p>Errors are now part of the <code>task</code> as for other asynchronous operations.</p> <p>New task types are also added for these operations. <code>indexCreation</code>, <code>indexUpdate</code>, and <code>indexDeletion</code>.</p> <p><strong>Create an index</strong> | <code>POST</code> - <code>/indexes</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>202</code> - Accepted Response body</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;taskUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enqueued&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;indexCreation&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-12T10:00:00.000000Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>💡 Automatic index creation using the <code>/indexes/:indexToCreate/documents</code> route generates only one <code>documentAdditions</code> task that also handles index creation.</li></ul> <p><strong>Update an index</strong> | <code>PUT</code> - <code>/indexes/:indexUid</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;primaryKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uid&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>202</code> - Accepted Response body</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;taskUid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enqueued&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;indexUpdate&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-12T10:00:00.000000Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Delete an index</strong> | <code>DELETE</code> - <code>/indexes/:indexUid</code></p> <p><code>202</code> - Accepted Response body</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;taskUid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movies&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enqueued&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;indexDeletion&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enqueuedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-08-12T10:00:00.000000Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2-technical-details"><a href="#_2-technical-details" class="header-anchor">#</a> 2. Technical details</h2> <h3 id="i-measuring"><a href="#i-measuring" class="header-anchor">#</a> I. Measuring</h3> <ul><li>Number of call on <code>indexes/:indexUid/tasks</code> per instance</li> <li>Number of call on <code>indexes/:indexUid/tasks/:taskUid</code> per instance</li> <li>Number of call on <code>tasks</code> per instance</li> <li>Number of call on <code>tasks/:taskUid</code> per instance</li></ul> <h2 id="_3-future-possibilities"><a href="#_3-future-possibilities" class="header-anchor">#</a> 3. Future Possibilities</h2> <ul><li>Add a pagination system for on <code>/tasks</code> and <code>indexes/:indexUid/tasks</code> lists.</li> <li>Add enhanced filtering capabilities.</li> <li>Simplify <code>documentAddition</code> and <code>documentPartial</code> type and elaborate on <code>details</code> metadata.</li> <li>Use Hateoas capability to give direct access to a <code>task</code> resource.</li> <li>Add dedicated task type names modifying a sub-setting. e.g. <code>SearchableAttributesUpdate</code>.</li> <li>Reconsider existence of <code>/indexes/:indexUid/tasks/:taskUid</code> route since it is similar to <code>/tasks/:taskUid</code>.</li> <li>Add an archived state for old <code>tasks</code>.</li> <li>Indicate the <code>API Key</code> identity that added a <code>task</code>. It should not permits to</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/specifications/text/0059-geo-search.html" class="prev">
        Geo search
      </a></span> <span class="next"><a href="/specifications/text/0061-error-format-and-definitions.html">
        Error format and definitions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.145227f4.js" defer></script><script src="/assets/js/3.7860be15.js" defer></script><script src="/assets/js/27.f12a6568.js" defer></script>
  </body>
</html>
